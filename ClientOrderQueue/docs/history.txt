История изменений ClientOrderQueue.exe - очередь заказов для наблюдения клиентами
=================================================================================


Версия 3.1.0.0
--------------
2017-07-30 Панель заказа на экране очереди переделана с использованием автомасштабируемого пользовательского элемента управления. Это должно предотвратить несоответствие размера шрифта текстов размеру панели заказов.


Версия 3.0.0.8
--------------
2017-07-15 Полностью переписана работа с отображением времени приготовления заказа. Для этого используются следующие элементы config-файла:
    <!-- время приготовления заказа, в МИНУТАХ -->
    <add key="IsShowOrderEstimateTime" value="1"/>
    <add key="OrderEstimateTime" value="10"/>
(элемент OrderReadyTime переименован в OrderEstimateTime)
где IsShowOrderEstimateTime - показывать ли ожидаемое время приготовления заказа (логическое),
    OrderEstimateTime - стандартное (или плановое) время приготовления заказа (дробное число с десятичной точкой или без нее) в МИНУТАХ. Т.к. задается для ОчередиЗаказов, то будет *одинаковым* для всех заказов, вне зависимости от количества позиций в заказе.

!! Логика определения значения таймера ожидания приготовления заказа базируется на _дате создания заказа_ (поле CreateDate таблицы Order).
При создании панели заказа на очреди, запускается таймер, который каждую секунду вычисляет время ожидания:
1. Если значение OrderEstimateTime задано (не равно 0), то таймер сначала показывает оставшееся время от планового (положительное, по убыванию), а затем, после истечения планового времени, просроченное время от планового (отрицательное, по возрастанию).
2. Если значение OrderEstimateTime не задано, то таймер показывает время, прошедшее после даты создания заказа (положительное, по возрастанию).


Версия 3.0.0.7
--------------
2017-07-11 В config-файл добавлен элемент <add key="UnusedDepartments" value=""/> - список (через запятую) Id цехов (напр.печати), которые не должны отображаться на КДСах и соответственно на очереди печати.
2017-07-12 Изменен код для корректного отображения заказов в случае двухэтапного перехода в состояние Готов.

Версия 3.0.0.6
--------------
2017-07-07 Добавлена возможность настраивать цвет панелей заказов. Для этого в config-файле добавлены элементы
    <add key="StatusCookingPanelBackground" value="Gold"/>         - для состояния В ПРОЦЕССЕ
    <add key="StatusReadyPanelBackground" value="LimeGreen"/>      - для состояния ГОТОВ
Значения элементов: 
- имя цвета (можно посмотреть утилитой ColorsViewer.exe, которая находится в папке docs), например Gold, Orange, Lime и т.д. 
	или 
- значение RGB, разделенные точкой с запятой, напр. 255;215;0
Вспомогательные файлы, напр. history.txt перенесены в папку docs.
2017-07-10 Исправлен баг, при котором, когда отображается время приготовления заказа и истекает это время, то счетчик показывает положительные значения. Сейчас будет отображаться отрицательное значение.
2017-07-10 В config-файл добавлены элементы для установки цвета фона и текста для заголовка окна: WinTitleBackground и WinTitleForeground.


Версия 3.0.0.5
--------------
2017-07-06 Добавлена функциональность "имя клиента" на панели заказа. 
Для этого:
- в sql-таблицу Order добавлено поле ClientName, nvarchar(120), изменен скрипт "create KDS DB.sql" на ФТП
- в config-файле (раздел appSettings) добавлены новые элементы: 
	<!-- время приготовления заказа, в МИНУТАХ -->
    <add key="OrderReadyTime" value="10"/>
    <!-- имя клиента -->
    <add key="IsShowClientName" value="1"/>
- в папке приложения на ФТП () есть файл "виды панели заказов.docx", где наглядно показаны различные виды панели заказов.
При старте приложения в лог записывается информация о системном окружении, версия запущенного приложения, настройки из config-файла; осуществляется проверка доступа к БД на MS SQL Server.


Версия 3.0.0.4
--------------
2017-07-04 Исправлен баг, при котором приложение падало, когда нет файла с изображением блюда для статуса Готов или закомментарен элемент с ключом StatusReadyImage в config-файле. Теперь, чтобы изображение блюда не отображалось в статусе Готов, достаточно закомментарить элемент config-файле, или указать несуществующий файл, или удалить/переименовать файл на диске.


Версия 3.0.0.3
--------------
2017-06-27 В связи с изменением структуры таблицы Order (удалено поле SpentTime) обновлена EF-модель. 
Сейчас заказы для ОчередиЗаказов отбираются на SQL Server (представление vwOrderQueue). 
Текст представления vwOrderQueue:
SELECT Id, Number, QueueStatusId, LanguageTypeId, CreateDate
FROM   dbo.[Order]
WHERE  (QueueStatusId IN (0, 1)) AND (OrderStatusId IN (1, 2, 8))
В приложении осуществляется сортировка заказов сначала по дате создания (CreateDate), затем по номеру заказа (Number).
*** Внимание! Численные значения статусов отличаются для КДС и очереди: 
		Для КДС-ов: OrderStatusId = 1 - блюдо В ПРОЦЕССЕ, = 2 - ГОТОВО, = 8 - подтверждение для двухэтапного режима готовности
		Для очереди заказов: QueueStatusId = 0 - блюдо В ПРОЦЕССЕ, = 1 - ГОТОВО


Версия 3.0.0.2
--------------
2017-04-19 В процедуре получения заказов добавлено принудительное открытие соединения для повышения надежности установления связи с SQL Server при получении заказов.


Версия 3.0.0.1
--------------
2017-04-06 По просьбе Татьяны Гринько заголовок изменен с "Статус заказов" на "Статус заказов / Status of orders".


Версия 3.0.0.0
--------------
2017-03-29 Приложение полностью переписано с использованием постоянных объектов в ячейках сеток 3х5 и 4х6. 
При вертикальном размещении монитора (ширина меньше, чем высота) сетки транспонируются и становятся 6х2 и 7х3.
В config-файле можно выбрать папку и файл для изображения логотипа в верхнем правом углу и звукового файла, который проигрывается при появлении заказа со статусом "Готов". Также можно выбрать изображение, которое показывается на готовых заказах справа (стилизованная дымящаяся тарелка). Можно указать яркость фона и надписи на панелях заказов (готовится/готов) для трех языков (укр/рус/анг).
В элементе key="OrderNumberFontSize" можно указать размер номера заказа. Сейчас элемент закоментарен (для xml-файлов это <!-- ... -->), т.е. размер будет вычислен автоматически, можно элемент раскоментарить и указать размер явно.



