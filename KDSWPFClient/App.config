<?xml version="1.0" encoding="utf-8"?>
<configuration>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5.1"/>
  </startup>
  
  <!--<system.diagnostics>
    <sources>
      <source name="System.ServiceModel.MessageLogging">
        <listeners>
          <add type="System.Diagnostics.DefaultTraceListener" name="Default">
            <filter type="" />
          </add>
          <add initializeData="messages.svclog" type="System.Diagnostics.XmlWriterTraceListener"
            name="messages" traceOutputOptions="LogicalOperationStack, Timestamp">
            <filter type="" />
          </add>
        </listeners>
      </source>
      <source propagateActivity="true" name="System.ServiceModel" switchValue="Подробно,ActivityTracing">
        <listeners>
          <add type="System.Diagnostics.DefaultTraceListener" name="Default">
            <filter type="" />
          </add>
          <add initializeData="tracelog.svclog" type="System.Diagnostics.XmlWriterTraceListener"
            name="traceListener" traceOutputOptions="LogicalOperationStack, DateTime, Timestamp">
            <filter type="" />
          </add>
        </listeners>
      </source>
    </sources>
    <trace autoflush="true" />
  </system.diagnostics>-->

  <system.serviceModel>
    <bindings>
      <netTcpBinding>
        <binding name="getDataBinding">
          <security mode="None" />
        </binding>
        <binding name="setDataBinding" receiveTimeout="05:00:00">
          <reliableSession enabled="true" inactivityTimeout="05:00:00"/>
          <security mode="None" />
        </binding>
      </netTcpBinding>
    </bindings>
    <client>
      <endpoint address="net.tcp://localhost:8733/KDSService" binding="netTcpBinding"
        bindingConfiguration="getDataBinding" contract="ServiceReference1.IKDSService"
        name="getDataEndpoint" />
      <endpoint address="net.tcp://localhost:8734/KDSCommandService/"
        binding="netTcpBinding" bindingConfiguration="setDataBinding" contract="ServiceReference1.IKDSCommandService"
        name="setDataEndPoint" />
    </client>

    <diagnostics>
      <messageLogging logEntireMessage="true" logMalformedMessages="true" logMessagesAtServiceLevel="true" logMessagesAtTransportLevel="false" maxMessagesToLog="5000" maxSizeOfMessageToLog="65535000"/>
    </diagnostics>
  </system.serviceModel>

  <appSettings>
    <!-- отделы, отображаемые на данном КДС (ID-ы через запятую) -->
    <!--<add key="depUIDs" value="1,2,15,16,17,18,19,20,21,22"/>-->
     <add key="depUIDs" value="3"/> 

    <add key="KDSMode" value="Chef"/>
    <!-- автоматический возврат группировки заказов из "По номерам" в "По времени", сек -->
    <add key="AutoReturnOrdersGroupByTime" value="10"/>
    <!-- звуковой файл, проигрываемый при появлении нового заказа -->
    <add key="NewOrderAudioAttention" value="tada.wav"/>
    <!-- кликабельность заголовка заказа -->
    <add key="OrderHeaderClickable" value="true"/>
    
    <!-- кликабельность ингредиента (независимо от блюда) или блюда на допнаправлении (IsIngredientsIndependent)-->
    <add key="IsIngredientsIndependent" value="true"/>
    <!-- отображать ли заголовок ЗАКАЗА тем же статусом, что и ВСЕ, ОТОБРАЖАЕМЫЕ НА ДАННОМ КДС-е, блюда/ингредиенты -->
    <add key="IsShowOrderStatusByAllShownDishes" value="true"/>
    
    <!-- настройка геометрии -->
    <add key="OrdersColumnsCount" value="5"/>
    <add key="AppFontScale" value="1.0"/>

    <!-- отладочные сообщения -->
    <add key="IsShowCFGButton" value="0"/>
    <add key="IsWriteTraceMessages" value="true"/>
    <!--  запись отладочных сообщений службы и клиентов в ОДИН лог - Logs/KDSDBCommands.log -->
    <add key="SingleClientSvcLog" value="true"/>
    <!-- подробная информация о преобразованиях списка заказов, полученных клиентом от службы -->
    <add key="TraceOrdersDetails" value="0"/>
    <add key="IsLogUserAction" value="true"/>

    <add key="KDSModeSpecialStates" value="" />
    <add key="KDSModeSpecialActions" value="" />
  </appSettings>

</configuration>
