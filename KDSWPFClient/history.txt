История изменений приложения KDSWPFClient.exe - кухонный дисплей
================================================================


Версия 1.0.0.6
--------------
2017-07-24 Изменен алгоритм отображения статуса заголовка при условии, что все блюда/ингредиенты, отображаемые на ДАННОМ КДСе, имеют один и тот же статус. Статус заказа автоматически изменяется В БАЗЕ ДАННЫХ, если ВСЕ блюда данного заказа (а не только те, что отображаются на данном КДСе) перешли в один и тот же статус. Сейчас, если элемент "IsShowOrderStatusByAllShownDishes" config-файла имеет значение true (или 1), то заголовок заказа ОТОБРАЖАЕТСЯ тем же статусом (цветом), что и ВСЕ блюда данного цеха.
Лог запросов к БД (KDSDBCommands.log) сейчас пишется в папку Logs приложения.
2017-07-26 Переделан алгоритм отображения и изменения ингредиентов (или доп.направлений печати):
 - если блюдо имеет ингредиенты, то они отображаются после родительского блюда БЕЗ учета их цеха и статуса;
 - если ингредиент имеет разрешенные для этого КДСа цех и статус или блюдо переводится в статус Готово, Выдан или ПодтвОтмены, то при изменении статуса блюда, изменяется и статус этих ингредиентов; иначе изменение статуса родительского блюда не влияет на статус ингредиентов.


Версия 1.0.0.5
--------------
2017-07-18 Продолжается поиск решения проблемы синхронизации состояний блюд/заказов, при которой происходит возврат в предыдущее состояние.
В данной версии добавлена блокировка заказа на службе от изменения по таймеру при запросе от клиента на изменение состояния.
Для одновременного логирования работы службы и клиента в config-файле есть элемент
<add key="SingleClientSvcLog" value="true"/>
Если значение true, то создается файл c:\KDSDBCommands.log, в который будет записываться трассировочная информация от клиента.


Версия 1.0.0.4
--------------
2017-07-14 В заголовке, кроме роли данного КДС, показываются цеха (направления печати), блюда которых будут отображаться на КДСе.
Из заголовка окна удален крестик закрытия окна. При жесте по заголовку окна, оно не меняет своего размера, а только перемещается.


Версия 1.0.0.3
--------------
2017-07-09 Устранен баг "висячих" заголовков заказа.
2017-07-11 При клике по заголовку заказа, сначала выясняется общий статус всех отображаемых на данном КДСе позиций. И, если он есть, т.е. все отображ.позиции имеют одинаковый статус, то возможные переходы определяются по этому статусу.
2017-07-12 Изменен код для корректного отображения заказов в случае двухэтапного перехода в состояние Готов.
Подкорректирован код размещения панелей заказов: исправлен расчет размеров канвы, высоты панели и перенос панели на след.страницу.


Версия 1.0.0.2
--------------
2017-07-03 Если необходимо перенести в другой столбец ингредиент, то он переносится вместе с блюдом.
На панели заказа нумеруются только блюда, ингредиенты НЕ нумеруются.
При инициализации приложения, в лог записывается номер запущенной версии.
Добавлена возможность записи в лог действий пользователя, напр. изменение статуса блюда/заказа (префикс сообщения - userAct).


Версия 1.0.0.1
--------------
2017-06-27 Исправлены ошибки в процедуре группировки заказов по дате создания блюд, что приводило к пропуску обновления экрана в приложении ("зависание" заказов).


Версия 1.0.0.0
--------------
2017-06-22 Исправлен баг неправильной работы сервиса, когда в заказе есть несколько блюд с одинаковыми UID.
В раздел отладки добавлен элемент "TraceOrdersDetails" (логический) - выводить ли в лог подробные сведения о заказах, получаемых от службы.

2017-06-16 Первый запуск у клиента.

2017-06-08 Доработка функционала для отмененных блюд и ингредиентов.
Доработка функционала для группировки по полю CreateDate БЛЮД, а не ЗАКАЗОВ.

2017-06-07 Закончена RC-версия. Начало тестирования на данных, получаемых из 1С.
