Доработка КДСов
================

------------
2018-01-12
------------
[+]Fix: разобраться с отображением и записью в OrderDishRunTime данных при включенной ПодтвГотово и автоматическим переходом в ПодтвГотово по таймеру. Что и куда, в какие поля, пишется в ...RunTime?
описание полей ...RunTime см. в файле "d:\Integra-Its\KDS\docs\поля таблицы ...RunTime.txt" 

------------
2017-12-28
------------
[+]New: на кдс-службе проверять уровень совместимости и устанавливать его в 120 (MS SQL Server 2014), если он больше.
Перейти на ADO.Net, убрать Entity Framework и nullable-поля в классах модели данных.
2018-01-05 Версия 1.0.3.0

[+]New: Сделать что-нибудь, чтобы для некоторых клиентов psw-файлы генерировались автоматически без обмена hwi/psw-файлами.
Для облегчения развертывания приложения у лояльных клиентов, добавлен аргумент запуска -autoGenLicence (регистрозависимый!), при запуске с которым кдс-службы, автоматически создается нужный лицензионный psw-файл.
Версия 1.0.3.0 КДС-службы. 

[+]New: Надо сделать, чтобы логи удалялись автоматически. Указывать, сколько суток хранить логи.
Можно в конфиге NLog-а в элементе target указать атрибут maxArchiveFiles - максимальное количество архивных файлов.
Для автоматического добавления данного атрибута создана утилита:
"ftp://integra-its\ftp@62.80.172.190/IT Department/!Soft_dev/_utilities/nlog_add_maxArchiveFiles.exe" 
НЕ работает!!! Сделал самостоятельное удаление файлов, в конфиге элемент MaxLogFiles.


-------------
2017-12-15
-------------
[+]Fix: Если дозаказ располагается на следующей странице, то он будет отображаться со ВТОРОГО блюда.
2017-12-15 изменена процедура getModelIndexesFromViewContainer.

[+]Fix: при ошибке доступа к БД кдс-служба виснет.
Установил таймаут в 10 секунд выполнения команд к SQL Server-у.
2017-12-21 Версия кдс-клиента 2.0.1.5

---------------------
2017-12-14 Деркач
---------------------
[+]Fix: при проверке psw-файла непонятно куда сохраняется hwi-файл.
2017-12-15 Изменение текущего каталога на каталог приложения перемещен перед проверкой psw-файла. В окно сообщения и лог выводится полное имя psw- или hwi-файла.

[+]Fix: ложное срабатывание смены статуса при большой кнопке перелистывания.
2017-12-14 Это происходило только при нажатии на кнопку назад на второй странице: при возврате на первую страницу, кнопка листания делается Hidden, e.Handled не срабатывает, нажатие мыши передается нижележащей панели - блюда или заказа и отображается окно смены статуса. Добавлено public-поле (bool) в MainWindow, хранящее флаг нажатия на кнопку назад.

[+]Fix: не появляются допзаказы. (Ид заказа один и тот же, но должно поменяться число элементов в списке заказов для клиента)
2017-12-15 это происходило в случае допзаказа для первого заказа на первой странице. Релиз кдс-службы 1.0.2.3 и кдс-клиента 

[+]New: Сделать набор вкладок-кнопок состояний, а не одну. Поведение - как радиокнопки, в каждый конкретный момент времени активна только одна вкладка.
2017-12-21 Версия кдс-клиента 2.0.1.5

[+]Fix: Не обновляется номер стола (номер заказа, имя официанта??).
2017-12-15 добавил binding к текстовым элементам

[+]New: Добавить отображение выданных заказов.
2017-12-21 Версия кдс-клиента 2.0.1.5


--------------------------
2017-12-13 Деркач, Саевич
--------------------------
[+]New: Группировать одинаковые блюда, т.е. для одинаковых блюд строка должна быть одна и просуммированное количество порций. 
Также, учитывать, что блюда могут быть с ингредиентами.
Этот параметр передается от клиента, т.е. на клиенте можно настраивать этот флажок.
Признаком "одинаковости" блюда является равенство полей OrderId, DepartmentId, FilingNumber, ParentUid, Comment, CreateDate, UID1C.
кдс-служба версии 1.0.2.5, кдс-клиент версии 

----------------------
2017-12-13 Сатаненко
----------------------
[+]New: Сделать настройку сортировки панелей заказов. Сейчас по умолчанию, сортировка по возрастранию даты создания, поэтому новые заказы появляются в конце списка заказов. Для ресторанов, которые не выдают заказы (заказы накапливаются в течение дня), необходима сортировка по убыванию даты создания, чтобы новые заказы появлялись на первых экранах КДСа.
2012-12-13 Версия службы 1.0.2.2

[+]Fix: клиент запущен, служба - нет - на клиенте сообщение об отсутствии связи. После запуска службы, на клиенте - пусто!!
[+]Fix: не проигрывается мелодия при появлении нового заказа.
2012-12-14 Версия клиента 2.0.1.3

------------------------------
2017-12-13 Вирич из ресторана
------------------------------
[*]New: По кдс. Там суть сделать вкладку на которой отображаются и заказы в работе и заказы готовые вместе. Специально для капитанского КДС. Затем, что по словам менеджера повара не всегда смотрят на КДС и чтобы капитан мог подсказать не переключаясь между вкладками "в работе" и "готовые".
2017-12-15 Отмена (Деркач).


----------------------
2017-11-29 С.Сатаненко
----------------------
[+]New: При включенном ПодтвГотово добавить время, через которое статус Готово автоматически перейдет в ПодтвГотово, т.е. сделать переход в ПодтвГотово по таймеру.
2017-11-30 Версия КДС-Службы 1.0.2.0


--------------------
2017-11-22 И.Саевич 
--------------------
[+]New: Добавить флажок для ЗАВИСИМОГО ингредиента: отображать ли на нем время приготовления, т.к. этот таймер дублируется с родительским блюдом. 
Версия КДС-Клиента 2.0.1.0.

