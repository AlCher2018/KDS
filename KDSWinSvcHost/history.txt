История изменений KDSWinSvcHost.exe - служба КДС (библиотечный файл)
=====================================================================
Внимание! Возможные ошибки запуска службы смотри в конце этого файла.

Версия 1.0.0.6
--------------
2017-07-24 Удалена проверка, является ли позиция заказа блюдом, при попытке автостарта приготовления данной позиции. Сейчас автостарт осуществляется для любой позиции заказа, независимо блюдо это или ингредиент.
Общий лог (KDSDBCommands.log) сейчас пишется в папку Logs приложения.

Версия 1.0.0.5
--------------
2017-07-18 Продолжается поиск решения проблемы синхронизации состояний блюд/заказов, при которой происходит возврат в предыдущее состояние.
В данной версии добавлена блокировка заказа на службе от изменения по таймеру при запросе от клиента на изменение состояния.
Для одновременного логирования работы службы и клиента в config-файле есть элемент
<add key="SingleClientSvcLog" value="true"/>
Если значение true, то создается файл c:\KDSDBCommands.log, в который будет записываться трассировочная информация от службы.


Версия 1.0.0.4
--------------
2017-07-14 Исправлена ошибка, когда при записи с КДСа нового состояния блюда в БД, другой программный поток (периодический опрос заказов) возвращает это блюд в предыдущее состояние. Чем медленнее происходит фиксация нового значения в MS SQL Server и чем *меньше* заказов, тем чаще возникает данная ошибка. На экране КДСа это проявлялось как неизменение состояния блюда (очень быстро происходила перезапись на предыдущее значение) или как видимое изменение, а потом восстановление.


Версия 1.0.0.3
--------------
2017-07-11 Добавлены дополнительные проверки значений даты при записи в статистические таблицы.
В файл KDSService.config добавлен элемент <add key="UnusedDepartments" value=""/> - список (через запятую) Id цехов (направлений печати), которые не должны отображаться на КДСах.
2017-07-12 Изменен код для корректного отображения заказов в случае двухэтапного перехода в состояние Готов.

Версия 1.0.0.2
--------------
2017-07-10 В лог добавлено больше отладочной информации, особенно для операций записи в БД. 
!!!! Важно, чтобы элемент <add key="IsWriteTraceMessages" value="true"/> имел значение True !!!!


Версия 1.0.0.1
--------------
2017-07-03 Добавлена возможность записи в лог действий пользователя, напр. изменение статуса блюда/заказа (префикс сообщения - userAct). При инициализации приложения в лог записывается номер запущенной версии.


Версия 1.0.0.0
--------------
2017-06-27 Функционал КДС собран в отдельный библиотечный файл для хостинга в любом приложении (консольное приложение, Windows-служба).


///////////////////////////////////////
//  Возможные ошибки запуска службы
///////////////////////////////////////
1. При старте службы на экране появляется сообщение об ошибке 1067. Unable to load the specified metadata resource
Причина: в описании строки подключения (<add name="KDSEntities" connectionString="metadata=...; provider=...">) неверно указано значение metadata.
Исправление: в текущей версии службы значение параметра metadata должно быть таким:
	metadata=res://*/DataSource.KDSEntities.csdl|res://*/DataSource.KDSEntities.ssdl|res://*/DataSource.KDSEntities.msl



